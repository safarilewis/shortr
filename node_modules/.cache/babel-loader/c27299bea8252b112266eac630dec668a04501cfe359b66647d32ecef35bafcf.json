{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/port/shortr/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac/Desktop/port/shortr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/port/shortr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import CopyToClipboard from\"react-copy-to-clipboard\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LinkResult=function LinkResult(_ref){var inputValue=_ref.inputValue;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),shortenLink=_useState2[0],setShortenLink=_useState2[1];console.log(shortenLink);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),copied=_useState4[0],setCopied=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios(\"https://api.shrtco.de/v2/shorten?url=\".concat(inputValue));case 4:res=_context.sent;setShortenLink(res.data.result.full_short_link);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 11:_context.prev=11;setLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,8,11,14]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(inputValue.length){fetchData();}},[inputValue]);useEffect(function(){var timer=setTimeout(function(){setCopied(false);},1000);return function(){return clearTimeout(timer);};},[copied]);if(loading){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"Something went wrong :(\"});}return/*#__PURE__*/_jsx(_Fragment,{children:shortenLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"p\",{children:shortenLink}),/*#__PURE__*/_jsx(CopyToClipboard,{text:shortenLink,onCopy:function onCopy(){return setCopied(true);},children:/*#__PURE__*/_jsx(\"button\",{className:copied?\"copied\":\"\",children:\"Copy to clipboard\"})})]})});};export default LinkResult;","map":{"version":3,"names":["useEffect","useState","CopyToClipboard","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LinkResult","_ref","inputValue","_useState","_useState2","_slicedToArray","shortenLink","setShortenLink","console","log","_useState3","_useState4","copied","setCopied","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","concat","sent","data","result","full_short_link","t0","finish","stop","apply","arguments","length","timer","setTimeout","clearTimeout","className","children","text","onCopy"],"sources":["/Users/mac/Desktop/port/shortr/src/LinkResult.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport CopyToClipboard from \"react-copy-to-clipboard\"\nimport axios from \"axios\"\n\n\nconst LinkResult = ({ inputValue }) => {\n\n    const [shortenLink, setShortenLink] = useState(\"\");\n    console.log(shortenLink);\n\n    const [copied, setCopied] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(false);\n\n\n    const fetchData = async () => {\n        try {\n            setLoading(true);\n            const res = await axios(`https://api.shrtco.de/v2/shorten?url=${inputValue}`);\n            setShortenLink(res.data.result.full_short_link);\n\n        } catch (err) {\n            setError(err);\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        if (inputValue.length) {\n            fetchData();\n        }\n    }, [inputValue]);\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            setCopied(false);\n        }, 1000)\n\n        return () => clearTimeout(timer);\n    }, [copied]);\n\n    if(loading){\n        return <p className=\"noData\">Loading...</p>\n    }\n    if(error){\n        return <p className=\"noData\">Something went wrong :(</p>\n    }\n\n    return (\n        <>\n            {shortenLink && (<div className=\"result\">\n                <p>{shortenLink}</p>\n\n                <CopyToClipboard\n                    text={shortenLink}\n                    onCopy={() => setCopied(true)}\n                >\n                    <button className={copied ? \"copied\" : \"\"}>Copy to clipboard</button>\n                </CopyToClipboard>\n            </div>)}\n        </>\n\n    )\n}\n\nexport default LinkResult"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}